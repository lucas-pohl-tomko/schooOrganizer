{"remainingRequest":"/home/aluno/Documentos/schooOrganizer/frontend-vue/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aluno/Documentos/schooOrganizer/frontend-vue/app/src/components/Students/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/aluno/Documentos/schooOrganizer/frontend-vue/app/src/components/Students/Create.vue","mtime":1574333922670},{"path":"/home/aluno/Documentos/schooOrganizer/frontend-vue/app/node_modules/vuetify-loader/lib/loader.js","mtime":1574333922550},{"path":"/home/aluno/Documentos/schooOrganizer/frontend-vue/app/node_modules/cache-loader/dist/cjs.js","mtime":1574333921890},{"path":"/home/aluno/Documentos/schooOrganizer/frontend-vue/app/node_modules/vue-loader/lib/index.js","mtime":1574333922438}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\"\nexport default {\n  name: \"CreateStudent\",\n  data() {\n    return {\n      dialog: false,\n      student: {},\n      professors: [],\n      studentprofessors: [{\n        professor: \"\",\n        role: 0\n      }],\n      roles: [\n        {id: 0, role: \"Guitarra/Violao\"},\n        {id: 1, role: \"Violino\"},\n        {id: 2, role: \"Sopro\"},\n        {id: 3, role: \"Piano/Teclado\"}\n      ]\n    };\n  },\n  created() {\n    this.getProfessors()\n  },\n  methods: {\n    addprofessor(index) {\n      this.studentprofessors.push({ name: '', role: ''});\n    },\n    removeprofessor(index) {\n      this.studentprofessors.splice(index, 1);\n    },\n    getRoles() {\n\n    },\n    getProfessors() {\n      axios\n      .request({\n        baseURL: \"http://localhost:8000\",\n        method: \"get\",\n        url: \"/api/professors/\"\n      })\n      .then(response => {\n        this.professors = response.data\n        console.log(response)\n      });\n    },\n    add() {\n      this.student.professors = this.studentprofessors\n      axios\n        .post(\"http://localhost:8000/api/students/add/\",\n          this.student, \n          {\n            headers: {\n              Authorization: `Token ${this.$session.get(\"token\")}`\n            }\n          }\n        )\n        .then(response => {\n          this.dialog = false\n          this.$emit('updateStudents')\n          this.log.console(response)\n        });\n    }\n  }\n};\n",{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Create.vue","sourceRoot":"src/components/Students","sourcesContent":["<template>\n  <v-row justify=\"center\">\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n      <template v-slot:activator=\"{ on }\">\n        <v-card-text>\n          <v-fab-transition>\n            <v-btn primary v-on=\"on\" dark relative fixed bottom right fab>\n              <v-icon>mdi-plus</v-icon>\n            </v-btn>\n          </v-fab-transition>\n        </v-card-text>\n      </template>\n\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">Adicionar Aluno</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"student.first_name\" label=\"Fist Name*\" hint=\"Student's name\" required></v-text-field>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"student.middle_name\" label=\"Middle Name\" hint=\"Student's middle name\" required></v-text-field>\n              </v-col>\n            </v-row>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"student.last_name\" label=\"Last Name*\" hint=\"Student's last name\" required></v-text-field>\n              </v-col>\n            </v-row>           \n            <v-row class=\"form-group\" v-for=\"(input,k) in studentprofessors\" :key=\"k\">\n                \n              <v-col cols=\"7\">\n                <v-select\n                  :items = \"professors\"\n                  item-value = \"id\"\n                  item-text = \"first_name\"\n                  label = \"Professors\"\n                  attach\n                  single-line\n                  v-model = \"input.professor\"\n                >\n                </v-select>\n              </v-col>\n              <v-col cols=\"4\">\n                <v-select\n                  :items = \"roles\"\n                  item-value = \"id\"\n                  item-text = \"role\"\n                  label = \"Role\"\n                  attach\n                  single-line\n                  v-model=\"input.role\"\n                >\n                </v-select>\n              </v-col>\n              <v-col cols=\"1\">\n                    <v-icon \n                      @click=\"addprofessor(k)\"\n                    >mdi-plus</v-icon>\n                    <v-icon \n                      @click=\"removeprofessor(k)\"\n                      v-show=\"k || ( !k && studentprofessors.length > 1)\">\n                       mdi-minus\n                    </v-icon>\n              </v-col> \n            </v-row>\n          </v-container>\n          <small>*Obrigatory information</small>\n        </v-card-text>\n        <v-card-actions>\n          <div class=\"flex-grow-1\"></div>\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">Close</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"add()\">Save</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n<script>\nimport axios from \"axios\"\nexport default {\n  name: \"CreateStudent\",\n  data() {\n    return {\n      dialog: false,\n      student: {},\n      professors: [],\n      studentprofessors: [{\n        professor: \"\",\n        role: 0\n      }],\n      roles: [\n        {id: 0, role: \"Guitarra/Violao\"},\n        {id: 1, role: \"Violino\"},\n        {id: 2, role: \"Sopro\"},\n        {id: 3, role: \"Piano/Teclado\"}\n      ]\n    };\n  },\n  created() {\n    this.getProfessors()\n  },\n  methods: {\n    addprofessor(index) {\n      this.studentprofessors.push({ name: '', role: ''});\n    },\n    removeprofessor(index) {\n      this.studentprofessors.splice(index, 1);\n    },\n    getRoles() {\n\n    },\n    getProfessors() {\n      axios\n      .request({\n        baseURL: \"http://localhost:8000\",\n        method: \"get\",\n        url: \"/api/professors/\"\n      })\n      .then(response => {\n        this.professors = response.data\n        console.log(response)\n      });\n    },\n    add() {\n      this.student.professors = this.studentprofessors\n      axios\n        .post(\"http://localhost:8000/api/students/add/\",\n          this.student, \n          {\n            headers: {\n              Authorization: `Token ${this.$session.get(\"token\")}`\n            }\n          }\n        )\n        .then(response => {\n          this.dialog = false\n          this.$emit('updateStudents')\n          this.log.console(response)\n        });\n    }\n  }\n};\n</script>\n"]}]}