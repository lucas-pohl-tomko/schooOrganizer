{"remainingRequest":"/home/lucario/Documents/schoolOrganizer/frontend-vue/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/lucario/Documents/schoolOrganizer/frontend-vue/app/src/components/Schedules/ScheduleTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/lucario/Documents/schoolOrganizer/frontend-vue/app/src/components/Schedules/ScheduleTable.vue","mtime":1574564802851},{"path":"/home/lucario/Documents/schoolOrganizer/frontend-vue/app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/lucario/Documents/schoolOrganizer/frontend-vue/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/lucario/Documents/schoolOrganizer/frontend-vue/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\";\nimport router from \"@/router/\"\nimport CreateStudent from \"./Create\";\n\nexport default {\n  name: \"Schedule\",\n  data() {\n    return {\n      schedules: [],\n      search: '',\n      days: {\n        MONDAY: 'Segunda-feira',\n        TUESDAY: 'Tuesday',\n        WEDNESDAY: 'Wednesday',\n        THURSDAY: 'Thursday',\n        FRIDAY: 'Friday',\n        SATURDAY: 'Saturday',\n      },\n      roles:{\n          0: 'Guitarra/Violao',\n          1: 'Violino',\n          2: 'Sopro',\n          3: 'Piano/Teclado'\n      },\n      dialog: false,\n      headers: [\n\n        { text: 'Aluno', value: 'student' },\n        { text: 'Professor', value: 'professor' },\n        { text: 'Horario', value: 'date.time' },\n        { text: 'Dia', value: 'date.dayOfTheWeek' },\n        { text: 'Aula', value: 'role' },\n        { text: 'Actions', value: 'action', sortable: false },\n      ],\n      editedIndex: -1,\n      editedItem: {\n        studentname: '',\n        professorname: '',\n        time: 0,\n        day: '',\n        role: '',\n      },\n      defaultItem: {\n        studentname: '',\n        professorname: '',\n        time: 0,\n        day: '',\n        role: '',\n      },\n\n    };\n  },\n  components: {\n    CreateStudents: CreateStudent,\n  },\n  computed: {\n    formattedSchedules() {\n      return this.schedules.map(schedule => {\n        schedule.date.dayOfTheWeek = this.days[schedule.date.dayOfTheWeek]\n        schedule.role = this.roles[schedule.role]\n        return schedule\n      })\n    },\n    formTitle () {\n        return this.editedIndex === -1 ? 'New Item' : 'Edit Item'\n    },\n  },\n    created() {\n      this.all();\n    },\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n  },\n  methods: {\n    all() {\n      axios\n        .request({\n          baseURL: \"http://localhost:8000\",\n          method: \"get\",\n          url: \"/api/schedulestudentsprofessor/\"\n        })\n        .then(response => {\n          this.schedules = response.data\n        });\n      },\n\n\n    deleteItem(item) {\n      if (confirm(\"Excluir \" + item.student)) {\n        axios\n          .delete(`http://localhost:8000/api/schedulestudentsprofessor/destroy/${item.id}`, {\n            headers: {\n              Authorization: `Token ${this.$session.get(\"token\")}`\n            }\n          })\n          .then(response => {\n            this.all()\n            console.log(response)\n          });\n      }\n    },\n      close () {\n        this.dialog = false\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        }, 300)\n      },\n\n      save () {\n        if (this.editedIndex > -1) {\n          Object.assign(this.schedules[this.editedIndex], this.editedItem)\n        } else {\n          this.schedules.push(this.editedItem)\n        }\n        this.close()\n    },\n    goToStudent(student){\n      router.push(`/students/edit/${student}`)\n    },\n    goToProfessor(){\n      router.push(`/students`)\n    },\n    \n        },\n  }\n",{"version":3,"sources":["ScheduleTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"ScheduleTable.vue","sourceRoot":"src/components/Schedules","sourcesContent":["<template>\n  <v-data-table\n    :headers=\"headers\"\n    :items=\"formattedSchedules\"\n    :search=\"search\"\n    sort-by=\"calories\"\n    class=\"elevation-1\"\n  >\n    <template v-slot:top>\n      <v-toolbar flat color=\"white\">\n        <v-toolbar-title>Horarios de Aulas</v-toolbar-title>\n      <v-spacer></v-spacer>\n      <v-text-field\n        v-model=\"search\"\n        append-icon=\"search\"\n        label=\"Search\"\n        single-line\n        hide-details\n      ></v-text-field>\n      </v-toolbar>\n      <CreateStudents @updateScheduleStudentProfessor=\"all\"></CreateStudents>\n    </template>\n    <template v-slot:item.action=\"{ item }\">\n      <v-btn class=\"mx-2\" fab dark x-small color=\"primary\" @click=\"goToStudent(item.studentid)\">\n        <v-icon dark>mdi-pencil</v-icon>\n      </v-btn>\n\n      <v-btn class=\"mx-2\" fab dark x-small color=\"red\" @click=\"deleteItem(item)\">\n        <v-icon dark>delete</v-icon>\n      </v-btn>\n          \n    </template>\n\n  </v-data-table>\n  \n</template>\n\n\n<script>\nimport axios from \"axios\";\nimport router from \"@/router/\"\nimport CreateStudent from \"./Create\";\n\nexport default {\n  name: \"Schedule\",\n  data() {\n    return {\n      schedules: [],\n      search: '',\n      days: {\n        MONDAY: 'Segunda-feira',\n        TUESDAY: 'Tuesday',\n        WEDNESDAY: 'Wednesday',\n        THURSDAY: 'Thursday',\n        FRIDAY: 'Friday',\n        SATURDAY: 'Saturday',\n      },\n      roles:{\n          0: 'Guitarra/Violao',\n          1: 'Violino',\n          2: 'Sopro',\n          3: 'Piano/Teclado'\n      },\n      dialog: false,\n      headers: [\n\n        { text: 'Aluno', value: 'student' },\n        { text: 'Professor', value: 'professor' },\n        { text: 'Horario', value: 'date.time' },\n        { text: 'Dia', value: 'date.dayOfTheWeek' },\n        { text: 'Aula', value: 'role' },\n        { text: 'Actions', value: 'action', sortable: false },\n      ],\n      editedIndex: -1,\n      editedItem: {\n        studentname: '',\n        professorname: '',\n        time: 0,\n        day: '',\n        role: '',\n      },\n      defaultItem: {\n        studentname: '',\n        professorname: '',\n        time: 0,\n        day: '',\n        role: '',\n      },\n\n    };\n  },\n  components: {\n    CreateStudents: CreateStudent,\n  },\n  computed: {\n    formattedSchedules() {\n      return this.schedules.map(schedule => {\n        schedule.date.dayOfTheWeek = this.days[schedule.date.dayOfTheWeek]\n        schedule.role = this.roles[schedule.role]\n        return schedule\n      })\n    },\n    formTitle () {\n        return this.editedIndex === -1 ? 'New Item' : 'Edit Item'\n    },\n  },\n    created() {\n      this.all();\n    },\n  watch: {\n    dialog (val) {\n      val || this.close()\n    },\n  },\n  methods: {\n    all() {\n      axios\n        .request({\n          baseURL: \"http://localhost:8000\",\n          method: \"get\",\n          url: \"/api/schedulestudentsprofessor/\"\n        })\n        .then(response => {\n          this.schedules = response.data\n        });\n      },\n\n\n    deleteItem(item) {\n      if (confirm(\"Excluir \" + item.student)) {\n        axios\n          .delete(`http://localhost:8000/api/schedulestudentsprofessor/destroy/${item.id}`, {\n            headers: {\n              Authorization: `Token ${this.$session.get(\"token\")}`\n            }\n          })\n          .then(response => {\n            this.all()\n            console.log(response)\n          });\n      }\n    },\n      close () {\n        this.dialog = false\n        setTimeout(() => {\n          this.editedItem = Object.assign({}, this.defaultItem)\n          this.editedIndex = -1\n        }, 300)\n      },\n\n      save () {\n        if (this.editedIndex > -1) {\n          Object.assign(this.schedules[this.editedIndex], this.editedItem)\n        } else {\n          this.schedules.push(this.editedItem)\n        }\n        this.close()\n    },\n    goToStudent(student){\n      router.push(`/students/edit/${student}`)\n    },\n    goToProfessor(){\n      router.push(`/students`)\n    },\n    \n        },\n  }\n</script>"]}]}